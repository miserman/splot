<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="splot">
<title>Preparing a Particular Result with splot • splot</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Preparing a Particular Result with splot">
<meta property="og:description" content="splot">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-dark"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">splot</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.5.4</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/splot.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../articles/style.html">Style Helper</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../articles/gallery.html">Gallery</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/explore.html">Explore - Gendered Language Styles</a>
    <a class="dropdown-item" href="../articles/refine.html">Refine - Killer's Autobiographies</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/miserman/splot/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Preparing a Particular Result with splot</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/miserman/splot/blob/HEAD/vignettes/refine.Rmd" class="external-link"><code>vignettes/refine.Rmd</code></a></small>
      <div class="d-none name"><code>refine.Rmd</code></div>
    </div>

    
    
<p>This example tweaks a few results to prepare them for publication or
whatever, using the dataset from a project comparing autobiographies:
<a href="https://osf.io/vwq9p/" target="_blank" class="external-link">osf.io/vwq9p</a>.</p>
<p><em>Built with R 4.3.1</em></p>
<hr>
<div class="section level2">
<h2 id="setting-up">Setting up<a class="anchor" aria-label="anchor" href="#setting-up"></a>
</h2>
<p>First, be sure splot is loaded:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://miserman.github.io/splot">splot</a></span><span class="op">)</span></span></code></pre></div>
<p>Then load in the data and attach it (can take a little while):</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="st">"https://osf.io/ey9hs/?action=download"</span>, fileEncoding <span class="op">=</span> <span class="st">"ISO-8859-1"</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/attach.html" class="external-link">attach</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span></span></code></pre></div>
<hr>
</div>
<div class="section level2">
<h2 id="anger-word-usage">Anger Word Usage<a class="anchor" aria-label="anchor" href="#anger-word-usage"></a>
</h2>
<p>Texts are split into 100 segments each (the <code>index</code>
variable), and are identified by author (the <code>name</code>
variable).</p>
<p>To look at a particular category across segments of text, we can just
plot the category against <code>index</code>, with <code>name</code> in
the <code>by</code> position:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/splot.html">splot</a></span><span class="op">(</span><span class="va">anger</span> <span class="op">~</span> <span class="va">index</span> <span class="op">*</span> <span class="va">name</span><span class="op">)</span></span></code></pre></div>
<p><img src="refine_files/figure-html/unnamed-chunk-4-1.svg" width="960"></p>
<p>Quite messy, and the legend is not drawn automatically when there are
so many levels of <code>by</code>.</p>
<p>We could add an arranged legend, and get rid of points to clean
things up a bit:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># lpos positions, ncol changes the number of columns, and</span></span>
<span><span class="co"># cex['leg'] changes the font size of the legend.</span></span>
<span><span class="fu"><a href="../reference/splot.html">splot</a></span><span class="op">(</span><span class="va">anger</span> <span class="op">~</span> <span class="va">index</span> <span class="op">*</span> <span class="va">name</span>, lpos <span class="op">=</span> <span class="st">"top"</span>, ncol <span class="op">=</span> <span class="fl">4</span>, cex <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>leg <span class="op">=</span> <span class="fl">.8</span><span class="op">)</span>, points <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p><img src="refine_files/figure-html/unnamed-chunk-5-1.svg" width="960">
With this many levels of <code>by</code>, the legend isn’t very useful,
so we might just keep it off.</p>
<p>We’re also interested in non-linear trends over the course of each
text, so we’ll switch to loess lines, and we’ll use <code>myl</code> to
zoom in (restrict the range) a bit:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/splot.html">splot</a></span><span class="op">(</span><span class="va">anger</span> <span class="op">~</span> <span class="va">index</span> <span class="op">*</span> <span class="va">name</span>, points <span class="op">=</span> <span class="cn">FALSE</span>, lines <span class="op">=</span> <span class="va">loess</span>, myl <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">.05</span>, <span class="fl">1.7</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="refine_files/figure-html/unnamed-chunk-6-1.svg" width="960"></p>
<p>Prettier at least, but still not very informative.</p>
<p>This project was mostly interested in the Rodger text—how it relates
to the Hitler text, and how both of those relate to other
autobiographies. As such, it would be nice to know which lines are the
Rodger and Hitler texts, and which are (in this case) the highest
comparison texts.</p>
<p>To do this, we’ll first have to set up line types and colors outside
of splot:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ns</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">name</span><span class="op">)</span></span>
<span><span class="va">nl</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">ns</span><span class="op">)</span></span>
<span><span class="va">disp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>name <span class="op">=</span> <span class="va">ns</span>, lty <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep_len</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">9</span>, <span class="va">nl</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">disp</span><span class="op">$</span><span class="va">col</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="st">"Hit|Rod"</span>, <span class="va">disp</span><span class="op">$</span><span class="va">name</span><span class="op">)</span>, <span class="st">"#880101"</span>, <span class="st">"#aaaaaa"</span><span class="op">)</span></span>
<span><span class="va">disp</span><span class="op">$</span><span class="va">lty</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="st">"Hit|Rod"</span>, <span class="va">disp</span><span class="op">$</span><span class="va">name</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fl">2</span></span>
<span></span>
<span><span class="co"># now we have an object with names associated with line types (lty) and colors (col):</span></span>
<span><span class="va">disp</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>, <span class="op">]</span></span>
<span><span class="co">#&gt;                   name lty     col</span></span>
<span><span class="co">#&gt; 1          Henry Adams   1 #aaaaaa</span></span>
<span><span class="co">#&gt; 2  Elizabeth von Arnim   2 #aaaaaa</span></span>
<span><span class="co">#&gt; 3      Margot  Asquith   3 #aaaaaa</span></span>
<span><span class="co">#&gt; 4       Clifford Beers   4 #aaaaaa</span></span>
<span><span class="co">#&gt; 5         Annie Besant   5 #aaaaaa</span></span>
<span><span class="co">#&gt; 6          George Airy   6 #aaaaaa</span></span>
<span><span class="co">#&gt; 7           Black Hawk   7 #aaaaaa</span></span>
<span><span class="co">#&gt; 8         William Cody   8 #aaaaaa</span></span>
<span><span class="co">#&gt; 9           Henry Coke   9 #aaaaaa</span></span>
<span><span class="co">#&gt; 10       Joseph Conrad   1 #aaaaaa</span></span></code></pre></div>
<p>Now within splot (using the <code>add</code> argument), we can always
mark the Rodger and Hitler text, and dynamically display a set of
comparison texts.</p>
<p>Here, the <code>mnc</code> part is calculating the mean of each text
across segments, then sorting names by their mean and pulling the
highest 2. The lowest 2 could be pulled by changing the
<code>TRUE</code> to <code>FALSE</code>.</p>
<p>In the first <code>legend</code> call, the constants are position
(set in the first argument), and line weight (<code>lwd</code>) and box
type (<code>bty</code>; <code>'n'</code> for none). Dynamic arguments
are pulled from the <code>disp</code> object we created before, based on
the names in <code>mnc</code>.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/splot.html">splot</a></span><span class="op">(</span><span class="va">anger</span> <span class="op">~</span> <span class="va">index</span> <span class="op">*</span> <span class="va">name</span>,</span>
<span>  points <span class="op">=</span> <span class="cn">FALSE</span>, lines <span class="op">=</span> <span class="st">"loess"</span>, myl <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">2.2</span><span class="op">)</span>, colors <span class="op">=</span> <span class="va">disp</span><span class="op">$</span><span class="va">col</span>, lty <span class="op">=</span> <span class="va">disp</span><span class="op">$</span><span class="va">lty</span>,</span>
<span>  add <span class="op">=</span> <span class="op">{</span></span>
<span>    <span class="va">mnc</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sort.html" class="external-link">sort</a></span><span class="op">(</span></span>
<span>      <span class="fu"><a href="https://rdrr.io/pkg/Matrix/man/colSums.html" class="external-link">colMeans</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="va">cdat</span><span class="op">$</span><span class="va">`.^^.`</span>, <span class="st">"[["</span>, <span class="st">"y"</span><span class="op">)</span><span class="op">)</span><span class="op">[</span><span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grep</a></span><span class="op">(</span><span class="st">"Hit|Rod"</span>, <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">cdat</span><span class="op">$</span><span class="va">`.^^.`</span><span class="op">)</span><span class="op">)</span><span class="op">]</span>,</span>
<span>      <span class="cn">TRUE</span></span>
<span>    <span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">]</span><span class="op">)</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/graphics/legend.html" class="external-link">legend</a></span><span class="op">(</span><span class="st">"topleft"</span>, <span class="fu"><a href="https://rdrr.io/r/base/sort.html" class="external-link">sort</a></span><span class="op">(</span><span class="va">mnc</span><span class="op">)</span>,</span>
<span>      lty <span class="op">=</span> <span class="va">disp</span><span class="op">[</span><span class="va">disp</span><span class="op">$</span><span class="va">name</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">mnc</span>, <span class="fl">2</span><span class="op">]</span>, col <span class="op">=</span> <span class="va">disp</span><span class="op">[</span><span class="va">disp</span><span class="op">$</span><span class="va">name</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">mnc</span>, <span class="fl">3</span><span class="op">]</span>,</span>
<span>      lwd <span class="op">=</span> <span class="fl">2</span>, bty <span class="op">=</span> <span class="st">"n"</span></span>
<span>    <span class="op">)</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/graphics/legend.html" class="external-link">legend</a></span><span class="op">(</span></span>
<span>      <span class="st">"topright"</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Adolf Hitler"</span>, <span class="st">"Elliot Rodger"</span><span class="op">)</span>,</span>
<span>      lty <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">2</span>, col <span class="op">=</span> <span class="va">disp</span><span class="op">$</span><span class="va">col</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grep</a></span><span class="op">(</span><span class="st">"Hit|Rod"</span>, <span class="va">disp</span><span class="op">$</span><span class="va">name</span><span class="op">)</span><span class="op">]</span>, lwd <span class="op">=</span> <span class="fl">2</span>, bty <span class="op">=</span> <span class="st">"n"</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="refine_files/figure-html/unnamed-chunk-8-1.svg" width="960"></p>
<p>If we were planning on applying these settings to several graphs (if,
say, we wanted to look at several different <code>y</code> variables
individually), we could add the consistent stuff to an options list:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># quote() prevents things from being evaluated outside of the function.</span></span>
<span><span class="va">opt</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  points <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  lines <span class="op">=</span> <span class="st">"loess"</span>,</span>
<span>  colors <span class="op">=</span> <span class="va">disp</span><span class="op">$</span><span class="va">col</span>,</span>
<span>  lty <span class="op">=</span> <span class="va">disp</span><span class="op">$</span><span class="va">lty</span>,</span>
<span>  add <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/substitute.html" class="external-link">quote</a></span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="va">mnc</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sort.html" class="external-link">sort</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/Matrix/man/colSums.html" class="external-link">colMeans</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="va">cdat</span><span class="op">$</span><span class="va">`.^^.`</span>, <span class="st">"[["</span>, <span class="st">"y"</span><span class="op">)</span><span class="op">)</span><span class="op">[</span><span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grep</a></span><span class="op">(</span></span>
<span>      <span class="st">"Hit|Rod"</span>,</span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">cdat</span><span class="op">$</span><span class="va">`.^^.`</span><span class="op">)</span></span>
<span>    <span class="op">)</span><span class="op">]</span>, <span class="cn">TRUE</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">]</span><span class="op">)</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/graphics/legend.html" class="external-link">legend</a></span><span class="op">(</span><span class="st">"topleft"</span>, <span class="fu"><a href="https://rdrr.io/r/base/sort.html" class="external-link">sort</a></span><span class="op">(</span><span class="va">mnc</span><span class="op">)</span>,</span>
<span>      lty <span class="op">=</span> <span class="va">disp</span><span class="op">[</span><span class="va">disp</span><span class="op">$</span><span class="va">name</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">mnc</span>, <span class="fl">2</span><span class="op">]</span>, col <span class="op">=</span> <span class="va">disp</span><span class="op">[</span><span class="va">disp</span><span class="op">$</span><span class="va">name</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">mnc</span>, <span class="fl">3</span><span class="op">]</span>,</span>
<span>      lwd <span class="op">=</span> <span class="fl">2</span>, bty <span class="op">=</span> <span class="st">"n"</span></span>
<span>    <span class="op">)</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/graphics/legend.html" class="external-link">legend</a></span><span class="op">(</span><span class="st">"topright"</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Adolf Hitler"</span>, <span class="st">"Elliot Rodger"</span><span class="op">)</span>,</span>
<span>      lty <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">2</span>,</span>
<span>      col <span class="op">=</span> <span class="va">disp</span><span class="op">$</span><span class="va">col</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grep</a></span><span class="op">(</span><span class="st">"Hit|Rod"</span>, <span class="va">disp</span><span class="op">$</span><span class="va">name</span><span class="op">)</span><span class="op">]</span>, lwd <span class="op">=</span> <span class="fl">2</span>, bty <span class="op">=</span> <span class="st">"n"</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>This can save some room at least:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/splot.html">splot</a></span><span class="op">(</span><span class="va">death</span> <span class="op">~</span> <span class="va">index</span> <span class="op">*</span> <span class="va">name</span>, myl <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1.35</span><span class="op">)</span>, options <span class="op">=</span> <span class="va">opt</span><span class="op">)</span></span></code></pre></div>
<p><img src="refine_files/figure-html/unnamed-chunk-10-1.svg" width="960"></p>
<hr>
</div>
<div class="section level2">
<h2 id="comparison-of-pronoun-usage">Comparison of Pronoun Usage<a class="anchor" aria-label="anchor" href="#comparison-of-pronoun-usage"></a>
</h2>
<p>We might want to look at a few variables at the same time. In this
dataset, the difference in pronoun use between the Rodger and Hitler
text is interesting, so we’ll look at personal pronouns
(<code>i, we, you, shehe, they</code>) and impersonal pronouns
(<code>ipron</code>) all together:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/splot.html">splot</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">i</span>, <span class="va">we</span>, <span class="va">you</span>, <span class="va">shehe</span>, <span class="va">they</span>, <span class="va">ipron</span><span class="op">)</span> <span class="op">~</span> <span class="va">name</span>,</span>
<span>  type <span class="op">=</span> <span class="st">"bar"</span>, su <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="st">"Hit|Rod"</span>, <span class="va">name</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="refine_files/figure-html/unnamed-chunk-11-1.svg" width="960"></p>
<p>To better compare each variable between texts, we can put the
variables on the x axis with <code>mv.as.x=TRUE</code>, and z-score with
<code>mv.scale=TRUE</code> to standardize ranges.</p>
<p>While we’re at it, we’ll also pretty things up with better axis
titles, and by removing the subset message (which can be done with
<code>sub=FALSE</code> or just by subsetting the data), and changing
colors and legend position:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/splot.html">splot</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">i</span>, <span class="va">we</span>, <span class="va">you</span>, <span class="va">shehe</span>, <span class="va">they</span>, <span class="va">ipron</span><span class="op">)</span> <span class="op">~</span> <span class="va">name</span>,</span>
<span>  type <span class="op">=</span> <span class="st">"bar"</span>, mv.as.x <span class="op">=</span> <span class="cn">TRUE</span>, mv.scale <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  data <span class="op">=</span> <span class="va">data</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grep</a></span><span class="op">(</span><span class="st">"Hit|Rod"</span>, <span class="va">data</span><span class="op">$</span><span class="va">name</span><span class="op">)</span>, <span class="op">]</span>, title <span class="op">=</span> <span class="st">"Pronoun Usage between Texts"</span>,</span>
<span>  laby <span class="op">=</span> <span class="st">"Pronouns (z-scored)"</span>, labx <span class="op">=</span> <span class="st">"Category"</span>, colors <span class="op">=</span> <span class="st">"grey"</span>, leg.title <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="refine_files/figure-html/unnamed-chunk-12-1.svg" width="960"></p>
<hr>
</div>
<div class="section level2">
<h2 id="saving-figures">Saving Figures<a class="anchor" aria-label="anchor" href="#saving-figures"></a>
</h2>
<p>Now that we have some formatted figures, we might want to use them in
other things.</p>
<p>When it comes to rendering, two factors make for the nicest looking
figures: anti-aliasing (making lines less pixelated) and scalability
(they won’t become pixelated when zoomed in on; a feature of
vector-based formats like pdf, svg, and emf). Using vector-based formats
means you can preserve the scale of a plot without losing quality; that
is, if you want larger text and more compact elements, you can adjust
your plot window and rerender the plot until the proportions look right.
Even if the window is very small, you can blow the vector based image up
to any size.</p>
<p>The default format when saving from within splot
(<code>save=TRUE</code>) is pdf (using <code>cairo_pdf</code>). If
you’re using RStudio, you can save the same quality of pdf from the
Export dropdown.</p>
<p>svg is generally the best format for anti-aliased, scalable images
(<code>format=svg</code>). These can be included in newer versions of
Word and PowerPoint, and are editable in <a href="https://inkscape.org" class="external-link">Inkscape</a> among other things (even text
editors!).</p>
<p>For older versions of Word and PowerPoint, emfs can be used instead
of svgs. To save as anti-aliased emfs, you can install and load the
<code>devEMF</code> package
(<code>install.packages('devEMF'); library('devEMF')</code>), then add
<code>format=emf</code> to the plot you want to save.</p>
<hr>
<div style="text-align:center">
<div class="float">
<img src="https://www.depts.ttu.edu/psy/lusi/files/lusi_transp.png" alt="Brought to you by the Language Use and Social Interaction lab at Texas Tech University"><div class="figcaption">Brought to you by the
<a href="https://www.depts.ttu.edu/psy/lusi/resources.php" target="_blank" class="external-link">Language
Use and Social Interaction</a> lab at Texas Tech University</div>
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
