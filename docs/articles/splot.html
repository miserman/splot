<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="splot">
<title>Introduction to R and splot • splot</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Introduction to R and splot">
<meta property="og:description" content="splot">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-dark"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">splot</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.5.5</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item">
  <a class="nav-link" href="../articles/splot.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../articles/style.html">Style Helper</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../articles/gallery.html">Gallery</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/explore.html">Explore - Gendered Language Styles</a>
    <a class="dropdown-item" href="../articles/refine.html">Refine - Killer's Autobiographies</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/miserman/splot/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Introduction to R and splot</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/miserman/splot/blob/HEAD/vignettes/splot.Rmd" class="external-link"><code>vignettes/splot.Rmd</code></a></small>
      <div class="d-none name"><code>splot.Rmd</code></div>
    </div>

    
    
<p><em>Built with R 4.3.1</em></p>
<hr>
<p><strong>R</strong> is a programming language and software environment
with a focus on statistics.<br><strong>Splot</strong> is an R package for visualizing data.<br>
This guide will introduce you to both.</p>
<div class="section level2">
<h2 id="setting-up">Setting up<a class="anchor" aria-label="anchor" href="#setting-up"></a>
</h2>
<div class="section level3">
<h3 id="downloading-r">Downloading R<a class="anchor" aria-label="anchor" href="#downloading-r"></a>
</h3>
<p>Follow the link matching your system to download R:<br><a href="https://cloud.r-project.org/bin/windows/base/" class="external-link">Windows</a> | <a href="https://cloud.r-project.org/bin/macosx/" class="external-link">Mac</a> | <a href="https://cloud.r-project.org/bin/linux/" class="external-link">Linux</a></p>
<p>In Windows, you may see two versions, starting with R i386 and R x64.
These correspond to the 32 and 64 bit versions of R. The 64 bit version
should be fine on most modern systems, but if you run into issues, you
might try the 32 bit version.</p>
</div>
<div class="section level3">
<h3 id="installing-packages">Installing packages<a class="anchor" aria-label="anchor" href="#installing-packages"></a>
</h3>
<p>Packages offer additional functionality beyond base R, usually to
make certain processes easier.</p>
<p>The initial download of R includes a few base packages, but there are
many packages available through the Comprehensive R Archive Network
(CRAN).</p>
<p>Packages can be downloaded and installed from within R using the
<code>install.packages</code> function. For example, this will install
splot:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"splot"</span><span class="op">)</span></span></code></pre></div>
<p>The first time you install packages, you’ll need to select a mirror.
These are CRAN hosts—they have the same files, but are in different
physical locations. Choose a mirror that is geographically close to you
for the best download speeds. If a package fails to download, try
changing mirrors.</p>
</div>
<div class="section level3">
<h3 id="loading-packages">Loading packages<a class="anchor" aria-label="anchor" href="#loading-packages"></a>
</h3>
<p>Each time you start R, packages that aren’t part of base R need to be
loaded using the <code>library</code> function. For example:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://miserman.github.io/splot/">"splot"</a></span><span class="op">)</span></span></code></pre></div>
<hr>
</div>
</div>
<div class="section level2">
<h2 id="understanding-r">Understanding R<a class="anchor" aria-label="anchor" href="#understanding-r"></a>
</h2>
<div class="section level3">
<h3 id="the-underlying-system">The underlying system<a class="anchor" aria-label="anchor" href="#the-underlying-system"></a>
</h3>
<p><strong>The interpreter</strong>. When you enter commands into the
console, the interpreter tries to understand it. You might think of this
understanding in terms of functions (operators) and data (operands). For
example, if you enter <code>1 + 1</code> into the console, R will
understand that each <code>1</code> is a number, and the <code>+</code>
is a function.</p>
<p><strong>Functions</strong>. Almost everything in R is a function.
Most functions are called by the <code>(</code> function; the name of
the function followed by parentheses (e.g., <code><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum()</a></code>). Many
functions accepts <em>arguments</em>—data entered inside the
parentheses, separated by commas. For example, <code>sum(1, 2)</code> is
a call to the <code>sum</code> function, with <code>1</code> as the
first argument, and <code>2</code> as the second argument. The
<code>+</code> function works on its own, but it can also be called by
the <code>(</code> function: <code>1 + 1</code> is the same as
<code>'+'(1, 1)</code>.</p>
<p>Most functions will output some form of data (in <code>+</code>’s
case, the output is a single numeric value). This means that functions
can be entered as arguments to other function. For example,
<code>sum(sum(1, 1), 2)</code> is another call to the <code>sum</code>
function, with the output of <code>sum(1, 1)</code> as the first
argument, and <code>2</code> as the second argument.</p>
</div>
<div class="section level3">
<h3 id="data-representations">Data representations<a class="anchor" aria-label="anchor" href="#data-representations"></a>
</h3>
<p>In what follows, the outlined code boxes contain syntax highlighted
code which you can run in an R console, followed by its expected output
(preceded by <code>#&gt;</code>).</p>
<div class="section level4">
<h4 id="matrices">Matrices<a class="anchor" aria-label="anchor" href="#matrices"></a>
</h4>
<p>Matrices store sets of data. For example, take a look at the Motor
Trend dataset, which is include in base R:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mtcars</span></span>
<span><span class="co">#&gt;                      mpg cyl  disp  hp drat    wt  qsec vs am gear carb</span></span>
<span><span class="co">#&gt; Mazda RX4           21.0   6 160.0 110 3.90 2.620 16.46  0  1    4    4</span></span>
<span><span class="co">#&gt; Mazda RX4 Wag       21.0   6 160.0 110 3.90 2.875 17.02  0  1    4    4</span></span>
<span><span class="co">#&gt; Datsun 710          22.8   4 108.0  93 3.85 2.320 18.61  1  1    4    1</span></span>
<span><span class="co">#&gt; Hornet 4 Drive      21.4   6 258.0 110 3.08 3.215 19.44  1  0    3    1</span></span>
<span><span class="co">#&gt; Hornet Sportabout   18.7   8 360.0 175 3.15 3.440 17.02  0  0    3    2</span></span>
<span><span class="co">#&gt; Valiant             18.1   6 225.0 105 2.76 3.460 20.22  1  0    3    1</span></span>
<span><span class="co">#&gt; Duster 360          14.3   8 360.0 245 3.21 3.570 15.84  0  0    3    4</span></span>
<span><span class="co">#&gt; Merc 240D           24.4   4 146.7  62 3.69 3.190 20.00  1  0    4    2</span></span>
<span><span class="co">#&gt; Merc 230            22.8   4 140.8  95 3.92 3.150 22.90  1  0    4    2</span></span>
<span><span class="co">#&gt; Merc 280            19.2   6 167.6 123 3.92 3.440 18.30  1  0    4    4</span></span>
<span><span class="co">#&gt; Merc 280C           17.8   6 167.6 123 3.92 3.440 18.90  1  0    4    4</span></span>
<span><span class="co">#&gt; Merc 450SE          16.4   8 275.8 180 3.07 4.070 17.40  0  0    3    3</span></span>
<span><span class="co">#&gt; Merc 450SL          17.3   8 275.8 180 3.07 3.730 17.60  0  0    3    3</span></span>
<span><span class="co">#&gt; Merc 450SLC         15.2   8 275.8 180 3.07 3.780 18.00  0  0    3    3</span></span>
<span><span class="co">#&gt; Cadillac Fleetwood  10.4   8 472.0 205 2.93 5.250 17.98  0  0    3    4</span></span>
<span><span class="co">#&gt; Lincoln Continental 10.4   8 460.0 215 3.00 5.424 17.82  0  0    3    4</span></span>
<span><span class="co">#&gt; Chrysler Imperial   14.7   8 440.0 230 3.23 5.345 17.42  0  0    3    4</span></span>
<span><span class="co">#&gt; Fiat 128            32.4   4  78.7  66 4.08 2.200 19.47  1  1    4    1</span></span>
<span><span class="co">#&gt; Honda Civic         30.4   4  75.7  52 4.93 1.615 18.52  1  1    4    2</span></span>
<span><span class="co">#&gt; Toyota Corolla      33.9   4  71.1  65 4.22 1.835 19.90  1  1    4    1</span></span>
<span><span class="co">#&gt; Toyota Corona       21.5   4 120.1  97 3.70 2.465 20.01  1  0    3    1</span></span>
<span><span class="co">#&gt; Dodge Challenger    15.5   8 318.0 150 2.76 3.520 16.87  0  0    3    2</span></span>
<span><span class="co">#&gt; AMC Javelin         15.2   8 304.0 150 3.15 3.435 17.30  0  0    3    2</span></span>
<span><span class="co">#&gt; Camaro Z28          13.3   8 350.0 245 3.73 3.840 15.41  0  0    3    4</span></span>
<span><span class="co">#&gt; Pontiac Firebird    19.2   8 400.0 175 3.08 3.845 17.05  0  0    3    2</span></span>
<span><span class="co">#&gt; Fiat X1-9           27.3   4  79.0  66 4.08 1.935 18.90  1  1    4    1</span></span>
<span><span class="co">#&gt; Porsche 914-2       26.0   4 120.3  91 4.43 2.140 16.70  0  1    5    2</span></span>
<span><span class="co">#&gt; Lotus Europa        30.4   4  95.1 113 3.77 1.513 16.90  1  1    5    2</span></span>
<span><span class="co">#&gt; Ford Pantera L      15.8   8 351.0 264 4.22 3.170 14.50  0  1    5    4</span></span>
<span><span class="co">#&gt; Ferrari Dino        19.7   6 145.0 175 3.62 2.770 15.50  0  1    5    6</span></span>
<span><span class="co">#&gt; Maserati Bora       15.0   8 301.0 335 3.54 3.570 14.60  0  1    5    8</span></span>
<span><span class="co">#&gt; Volvo 142E          21.4   4 121.0 109 4.11 2.780 18.60  1  1    4    2</span></span></code></pre></div>
<p>In the <code>mtcars</code> matrix, each row represents a particular
car, and each column represents a feature of that car (a variable). You
can use the <code>?</code> function (<code><a href="https://rdrr.io/r/datasets/mtcars.html" class="external-link">?mtcars</a></code>) to access
documentation.</p>
<p>Note: In base R, there are purely numerical matrices (as made with
the <code>matrix</code> function) and matrices with mixed data types
(such as numerical and character or factor columns; as made by the
<code>data.frame</code> function). These are both matrix
representations, but they have some different methods (functions that
interact with them). <code>mtcars</code> is a <code>data.frame</code>
object (which you can see with the <code>class</code> function;
<code>class(mtcars)</code>), but the methods used in these examples
(such as the <code>[</code> function) will also work with standard
<code>matrix</code> objects.</p>
</div>
<div class="section level4">
<h4 id="matrices-as-arguments">Matrices as arguments<a class="anchor" aria-label="anchor" href="#matrices-as-arguments"></a>
</h4>
<p>Some functions accept entire matrices as arguments. For example, the
<code>colnames</code> function will output a matrix’s column names:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] "mpg"  "cyl"  "disp" "hp"   "drat" "wt"   "qsec" "vs"   "am"   "gear"</span></span>
<span><span class="co">#&gt; [11] "carb"</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="vectors-as-arguments">Vectors as arguments<a class="anchor" aria-label="anchor" href="#vectors-as-arguments"></a>
</h4>
<p>Other functions only accept values or vectors (single columns or
rows, or created independently with the <code>c</code> function) as
arguments. You can use the <code>[</code> function to select single
columns or rows by name or index. <code>[</code>’s first argument
selects rows, and its second argument selects columns. For example, you
can select the <code>mpg</code> variable like this (note that variable
names are case sensitive):</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mtcars</span><span class="op">[</span>, <span class="st">"mpg"</span><span class="op">]</span></span>
<span><span class="co">#&gt;  [1] 21.0 21.0 22.8 21.4 18.7 18.1 14.3 24.4 22.8 19.2 17.8 16.4 17.3 15.2 10.4</span></span>
<span><span class="co">#&gt; [16] 10.4 14.7 32.4 30.4 33.9 21.5 15.5 15.2 13.3 19.2 27.3 26.0 30.4 15.8 19.7</span></span>
<span><span class="co">#&gt; [31] 15.0 21.4</span></span></code></pre></div>
<p>Fun note: The <code>[</code> function can also be called by the
<code>(</code> function: <code>'['(mtcars,, 'mpg')</code>.</p>
<p>Since the <code>[</code> function outputs a vector, you can enter it
as an argument to another function, such as the <code>sum</code>
function:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">[</span>, <span class="st">"mpg"</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 642.9</span></span></code></pre></div>
<p>The <code>sum</code> function will handle multiple vectors or single
values entered as individual arguments (<code>sum(c(1, 2, 3))</code> is
the same as <code>sum(1, 2, 3)</code>), but other functions expect a
vector as the first argument. For instance <code>mean(c(1, 2, 3))</code>
gives the average of 1, 2, and 3, whereas <code>mean(1, 2, 3)</code>
would be the same as <code>mean(1)</code>, giving the average of 1.
Check a function’s documentation to see what it
expects—<code>sum</code>’s first argument is <code>...</code> meaning it
will collapse additional arguments (those without names matching other
arguments) into the first argument, whereas <code>mean</code>’s first
argument is <code>x</code>.</p>
</div>
</div>
</div>
<div class="section level2">
<h2 id="visualizing-data-with-splot">Visualizing data with splot<a class="anchor" aria-label="anchor" href="#visualizing-data-with-splot"></a>
</h2>
<p>The <code>splot</code> function generates all sorts of plots. Its
first argument is for variable names, and its second argument is for the
dataset containing those variables. See the documentation for more
information about the <code>splot</code> function (enter
<code><a href="../reference/splot.html">?splot</a></code> in an R console, or
<a href="https://miserman.github.io/splot/#main_function" target="_blank">view
online</a>).</p>
<div class="section level3">
<h3 id="distribution-of-a-single-variable">Distribution of a single variable<a class="anchor" aria-label="anchor" href="#distribution-of-a-single-variable"></a>
</h3>
<p>For example, we can look at the density distribution (and histogram)
of the <code>mpg</code> variable in <code>mtcars</code> like this:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/splot.html">splot</a></span><span class="op">(</span><span class="va">mpg</span>, <span class="va">mtcars</span><span class="op">)</span></span></code></pre></div>
<p><img src="splot_files/figure-html/unnamed-chunk-7-1.svg" width="960">
Here, the bars depict the frequency of the value-range they cover (which
is the histogram part), and the line is the estimated theoretical
distribution of the variable (if more cars were sampled from the same
source, they would theoretically resemble this distribution; e.g., most
cars would go between 15 and 20 miles per gallon).</p>
</div>
<div class="section level3">
<h3 id="relationship-between-two-variables">Relationship between two variables<a class="anchor" aria-label="anchor" href="#relationship-between-two-variables"></a>
</h3>
<p>The first argument in the <code>splot</code> function can be entered
as a formula, which is a way to specify relationships between variables.
The first part of a formula is the tilde (<code>~</code>), which
separates a <code>y</code> variable (before the tilde; on the vertical
axis of a plot) from an <code>x</code> variable (after the tilde; on the
horizontal axis of a plot).</p>
<p>For example, we can look at the relationship between the
<code>mpg</code> and <code>wt</code> variables like this:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/splot.html">splot</a></span><span class="op">(</span><span class="va">mpg</span> <span class="op">~</span> <span class="va">wt</span>, <span class="va">mtcars</span><span class="op">)</span></span></code></pre></div>
<p><img src="splot_files/figure-html/unnamed-chunk-8-1.svg" width="960">
Each dot represents a car, and its position is a combination of its
miles per gallon (MPG) and weight; the higher it is vertically, the more
miles it can go per gallon of gas, and the farther it is horizontally,
the more it weighs (in tons).</p>
<p>The line is from a linear regression, which is attempting to predict
y given x. For example, from this data, if the regression were to see a
car that weighed about 3 tons, it would predict its MPG to be around
22.</p>
<p>Something we might do to improve this prediction (model fit) is to
consider other variables. Weight seems to be closely related to MPG
(going by the last plot), but maybe MPG depends on something else as
well, such as the car’s style of transmission (automatic versus manual).
To look at this, we can add a splitting variable to the formula with an
asterisk (<code>*</code>).</p>
<p>Splitting variables break the data up into groups based on their
value. For example, this will separate cars that have an automatic
transmission (0) from those that have a manual transmission (1), and
estimate a line for each group.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/splot.html">splot</a></span><span class="op">(</span><span class="va">mpg</span> <span class="op">~</span> <span class="va">wt</span> <span class="op">*</span> <span class="va">am</span>, <span class="va">mtcars</span><span class="op">)</span></span></code></pre></div>
<p><img src="splot_files/figure-html/unnamed-chunk-9-1.svg" width="960">
From this, it seems (in this sample of cars at least) that the negative
relationship between weight and MPG is stronger among cars with a manual
transmission; transmission appears to moderate the relationship between
weight and MPG. That is, the line for cars with manual transmissions has
a steeper slope than the line for cars with automatic transmissions.</p>
<p>Another way we can improve model fit is by allowing our prediction
lines to bend. A particularly clear case where this seems to help is in
modeling the relationship between weight and displacement:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/splot.html">splot</a></span><span class="op">(</span><span class="va">wt</span> <span class="op">~</span> <span class="va">disp</span> <span class="op">+</span> <span class="va">disp</span><span class="op">^</span><span class="fl">2</span> <span class="op">+</span> <span class="va">disp</span><span class="op">^</span><span class="fl">3</span>, <span class="va">mtcars</span><span class="op">)</span></span></code></pre></div>
<p><img src="splot_files/figure-html/unnamed-chunk-10-1.svg" width="960">
The <code>^</code> function raises the preceding vector by the following
value, so <code>disp ^ 2</code> is the squared <code>disp</code>
variable, and <code>disp ^ 3</code> is the cubed <code>disp</code>
variable. Each of these transformations of <code>x</code> increases the
prediction line’s ability to bend.</p>
<p>Maybe the relationship between displacement and weight is actually
curvy like this, but we might suspect there are just different types of
cars represented here. For example, it kind of looks like there are
clusters in the data, one under 200, and one between 200 and 400. We can
visualize this by splitting displacement by itself at those points:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/splot.html">splot</a></span><span class="op">(</span><span class="va">wt</span> <span class="op">~</span> <span class="va">disp</span> <span class="op">*</span> <span class="va">disp</span>, <span class="va">mtcars</span>, split <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">200</span>, <span class="fl">400</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="splot_files/figure-html/unnamed-chunk-11-1.svg" width="960">
This cleans up the data nicely, but if we wanted to say these clusters
actually represent different types of cars, it would be more convincing
if we could find another variable that defines groups like these.</p>
</div>
<div class="section level3">
<h3 id="categorical-variables">Categorical variables<a class="anchor" aria-label="anchor" href="#categorical-variables"></a>
</h3>
<p>We started by looking at the <code>mpg</code> variable by itself, but
since this dataset has named entries (unlike sets with less meaningful
rows like participant IDs), it might be informative to visualize the MPG
of each entry:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/splot.html">splot</a></span><span class="op">(</span><span class="va">mpg</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">)</span>, <span class="va">mtcars</span>, type <span class="op">=</span> <span class="st">"bar"</span>, sort <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="splot_files/figure-html/unnamed-chunk-12-1.svg" width="960">
Here, the additional arguments are changing aspects of the display from
the way they would show up by default: The <code>type</code> argument
sets the look of the data (bars rather than lines or points), and the
<code>sort</code> argument changes the way the <code>x</code> variable
is ordered (by <code>y</code>’s value rather than alphabetically).</p>
<p>The <code>splot</code> function has many more arguments which mostly
affect the way each element of the figure is displayed. For example, in
this figure, you might want to adjust the range of the y axis (with the
<code>myl</code> argument), and maybe make the labels more informative
(with the <code>laby</code> and <code>labx</code> arguments):</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/splot.html">splot</a></span><span class="op">(</span></span>
<span>  <span class="va">mpg</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">)</span>, <span class="va">mtcars</span>,</span>
<span>  type <span class="op">=</span> <span class="st">"bar"</span>, sort <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  myl <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">35</span><span class="op">)</span>, laby <span class="op">=</span> <span class="st">"Miles Per Gallon"</span>, labx <span class="op">=</span> <span class="st">"Car"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="splot_files/figure-html/unnamed-chunk-13-1.svg" width="960"></p>
<p>To explore the data more broadly we might look at a few variables as
once. These can be entered as a matrix in the y position:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/splot.html">splot</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"cyl"</span>, <span class="st">"carb"</span>, <span class="st">"gear"</span><span class="op">)</span><span class="op">]</span> <span class="op">~</span> <span class="va">mpg</span>, <span class="va">mtcars</span>, mv.as.x <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="splot_files/figure-html/unnamed-chunk-14-1.svg" width="960">
The <code>mv.as.x</code> argument is saying the columns of
<code>y</code> should be displayed as levels on the x axis (“mv” stands
for “multiple variables”). Otherwise, they would be displayed as levels
of a by variable, with MPG on the x axis.</p>
<p>This type of plot is more commonly displayed as a bar plot, because
lines are sometimes taken to imply that there’s some movement between
levels (as in the same participants experiencing different conditions;
within-person experimental designs).</p>
<p>Another way to interpret lines, however, is as regression lines. This
is particularly clear if we look at the raw data by representing this
line plot as a scatter plot:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/splot.html">splot</a></span><span class="op">(</span></span>
<span>  <span class="va">mtcars</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"cyl"</span>, <span class="st">"carb"</span>, <span class="st">"gear"</span><span class="op">)</span><span class="op">]</span> <span class="op">~</span> <span class="va">mpg</span>, <span class="va">mtcars</span>,</span>
<span>  mv.as.x <span class="op">=</span> <span class="cn">TRUE</span>, type <span class="op">=</span> <span class="st">"scatter"</span>, xlas <span class="op">=</span> <span class="fl">1</span>, lpos <span class="op">=</span> <span class="st">"topright"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="splot_files/figure-html/unnamed-chunk-15-1.svg" width="960">
The <code>xlas</code> argument sets the orientation of the x axis labels
(since they default to vertical for scatter plots), and the
<code>lpos</code> argument sets the position of the legend.</p>
<p>This representation isn’t very informative in terms of the data (as
there is a lot of overlap at each level of each variable), but these
lines are actually prediction lines from regressions. The line plot
depicts each part of the regression: Where each line crosses an x axis
label is the mean of the data represented by the line within that level;
the error bars show the standard errors around those means (which
correspond to the p-value of the associated t test; if they cross, the
difference is non-significant); and the slope of the line between levels
corresponds to the associated beta weight. In this sense, a line plot
can be somewhat more informative than a bar plot.</p>
<hr>
<p>For more applied examples, see the
<a href="https://miserman.github.io/splot/articles/explore.html" target="_blank">explore</a>
and
<a href="https://miserman.github.io/splot/articles/refine.html" target="_blank">refine</a>
vignettes.<br>
For more splot specific information, see the
<a href="https://miserman.github.io/splot/articles/style.html" target="_blank">style
guide</a> and
<a href="https://miserman.github.io/splot/reference/splot.html" target="_blank">full
documentation</a>.</p>
<div style="text-align:center">
<div class="float">
<img src="https://www.depts.ttu.edu/psy/lusi/files/lusi_transp.png" alt="Brought to you by the Language Use and Social Interaction lab at Texas Tech University"><div class="figcaption">Brought to you by the
<a href="https://www.depts.ttu.edu/psy/lusi/resources.php" target="_blank" class="external-link">Language
Use and Social Interaction</a> lab at Texas Tech University</div>
</div>
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
